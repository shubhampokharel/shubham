jQuery(document).ready(function(r){var o,i=!0,c=!0,h=!0,l=3,n="hauntedthemes-demo",t="",e="",g=Math.max(document.documentElement.clientWidth,window.innerWidth||0),a=(Math.max(document.documentElement.clientHeight,window.innerHeight||0),new GhostContentAPI({host:t,key:e,version:"v2"}),p(),r(window).on("load",function(t){p(),r(".post-content img").each(function(t,e){r(this).parent().is("a")||(r("<a href='"+r(this).attr("src")+"' class='zoom'></a>").insertAfter(r(this)),r(this).appendTo(r(this).next("a")))}),r(".zoom").fluidbox(),r(window).on("scroll",function(t){r(".zoom").fluidbox("close")}),r(".grid").length&&(r(".grid .post").each(function(t,e){d(r(this));var n=r(this).find(".post-title a");n.html(n.html().replace(/^(\w+)/,"<span>$1</span>"))}),e=document.querySelector(".grid"),o=new Masonry(e,{itemSelector:".grid .grid-item",columnWidth:".grid .grid-sizer",percentPosition:!0,gutter:30,transitionDuration:0}));var e,s,n=1,a=window.location.pathname,i=(r(".grid-item"),0),a=a.replace(/#(.*)$/g,"").replace("///g","/");c&&(r("#load-posts").addClass("visible"),r("#load-posts").on("click",function(t){var e;t.preventDefault(),n!=maxPages?(e=r(this),n++,t=(a=r("body").hasClass("paged")?"/":a)+"page/"+n+"/",e.hasClass("was-dots")&&setTimeout(function(){e.removeClass("was-dots").addClass("dots"),i=0},1e3),r.get(t,function(t){i++;t=r(t).find(".post");t.find(".content-holder").addClass("no-opacity"),r("#content .grid").append(t),r.each(t,function(t,e){var n=r(this),a=r(this).attr("data-id");r("#content .grid").imagesLoaded(function(){d(n);var t=n.find(".post-title a"),t=(t.html(t.html().replace(/^(\w+)/,"<span>$1</span>")),o.appended(n),{duration:800,easing:[.1,1,.3,1],delay:function(t,e){return 35*e},opacity:{value:[0,1],duration:600,easing:"linear"},translateY:[200,0],translateZ:[300,0],rotateX:[75,0]});t.targets='.post[data-id="'+a+'"] .content-holder',anime.remove(t.targets),anime(t)})})})):r("#load-posts").addClass("end").text(r("#load-posts").attr("data-end"))})),h&&c&&(s="on",0<r("#load-posts").length&&(r("#load-posts").addClass("dots"),r(window).on("scroll",function(t){var e,n,a,o;e="#load-posts",n=r(window).scrollTop(),a=n+r(window).height(),(o=r(e).offset().top)+r(e).height()<=a&&n<=o&&"on"==s&&i<l&&(r("#load-posts").addClass("load").click(),s="off",setTimeout(function(){r("#load-posts").removeClass("load"),s="on",i==l&&r("#load-posts").removeClass("dots").addClass("was-dots")},1e3))})))}),r(document).ajaxStart(function(){r("#load-posts").hasClass("dots load")&&r("#load-posts").addClass("active")}),r(document).ajaxComplete(function(){r("#load-posts").hasClass("dots")&&r("#load-posts").removeClass("active")}),r(".nav-trigger").on("click",function(t){t.preventDefault(),r(".search-trigger").hasClass("active")?(r(".search-trigger").toggleClass("active"),r(".search-container").slideToggle(500,function(){r(".nav-trigger").toggleClass("active"),r(".menu-container").slideToggle(500)})):(r(".nav-trigger").toggleClass("active"),r(".menu-container").slideToggle(500))}),new GhostSearch({host:t,key:e,input:"#search-field",results:"#results",options:{limit:12},template:function(t){return'<li><a href="'+[location.protocol,"//",location.host].join("")+"/"+t.slug+'/">'+t.title+"</a></li>"},on:{afterDisplay:function(t){r(".search-inner").find("a").length&&r(".search-inner a").each(function(t,e){var n=r(this);n.html(n.html().replace(/^(\w+)/,"<span>$1</span>"))})}}}),r(".tag-template").length&&(t=r(".tag-template .tags-container").attr("data-tag"),r(".tags-container ."+t).parent().addClass("active")),0);function d(t){var e=t.find(".tags").height()+125;t.find(".post-meta").height()<e&&t.find(".post-meta").height(e).addClass("expand")}function s(){r(".author-template .authors").stick_in_parent({offset_top:30}),r(".content-inner .authors").stick_in_parent({offset_top:50}),r(".tags-container").stick_in_parent()}function p(){r(".kg-gallery-image img").each(function(t,e){var n=r(this).closest(".kg-gallery-image"),a=r(this)[0].naturalWidth,o=r(this)[0].naturalHeight;n.attr("style","flex: "+a/o+" 1 0%")})}900<=g&&(s(),a=1),r(".content-inner .info-bar").stick_in_parent().on("sticky_kit:stick",function(t){r(".content-inner .info-bar").addClass("active")}).on("sticky_kit:unstick",function(t){r(".content-inner .info-bar").removeClass("active")}),i&&shareSelectedText(".content-inner .post-content",{sanitize:!0,buttons:["twitter"],tooltipTimeout:250}),r(window).on("resize",function(t){Math.max(document.documentElement.clientWidth,window.innerWidth||0)<900?(r(".author-template .authors").trigger("sticky_kit:detach"),r(".tags-container").trigger("sticky_kit:detach"),r(".content-inner .authors").trigger("sticky_kit:detach"),a=0):0==a&&(s(),a++),r(".grid .post").each(function(t,e){r(this).find(".post-meta").hasClass("expand")&&(r(this).find(".post-meta").attr("style","").removeClass("expand"),d(r(this)))})}),r(".search-trigger").on("click",function(t){t.preventDefault(),r(".nav-trigger").hasClass("active")?(r(".nav-trigger").toggleClass("active"),r(".menu-container").slideToggle(500,function(){r(".search-trigger").toggleClass("active"),r(".search-container").slideToggle(500,function(){r("#search-field").focus()})})):(r(".search-trigger").toggleClass("active"),r(".search-container").slideToggle(500,function(){r("#search-field").focus()}))}),r(window).on("scroll",function(t){var e,n;r(".post-template").length&&(e=r(".post-content").offset().top,n=r(".post-content").height(),r(window).scrollTop()>e&&r(window).scrollTop()<e+n?(n=100*(r(window).scrollTop()-e)/n,r(".progress").css({width:n+"%"})):r(window).scrollTop()<e?r(".progress").css({width:"0%"}):r(".progress").css({width:"100%"}))}),r("#content").attr("data-id")&&""!=n&&r(".comments-trigger").on("click",function(t){t.preventDefault(),r(".comments").append('<div id="disqus_thread"></div>').addClass("active");var e;[location.protocol,"//",location.host,location.pathname].join("");t=document,(e=t.createElement("script")).src="//"+n+".disqus.com/embed.js",e.setAttribute("data-timestamp",+new Date),(t.head||t.body).appendChild(e)}),r(".gh-signin").on("submit",function(t){var e=r(".gh-input").val();/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)||(r(".gh-input").addClass("error"),setTimeout(function(){r(".gh-input").removeClass("error")},500),t.preventDefault())}),r("pre code").each(function(t,e){hljs.highlightBlock(e)})});
//# sourceMappingURL=main.js.map